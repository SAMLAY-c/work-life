**一、为什么要做：**

当前学情报告仅用【学生ID+学科】作为唯一标识。当同一账号下的两个孩子（如不同年级的兄弟）报了相同学科时，数据会相互覆盖，导致老师看到错误的学情报告，严重影响教学判断。

**二、要怎么做：**

核心方案是为学情报告增加 **“年级”** 维度，确保【学生ID+学科+年级】的唯一性。为此，后端需修改取数逻辑，并在功能上线后，为受影响的用户重新生成历史数据。

# **0. 版本记录**

|   |   |   |   |
|---|---|---|---|
|版本号|修订日期|修订人|修订详情|
|v1.0|2025-11-03|林承列|创建文档，明确学情报告数据覆盖问题的解决方案。|

# **1. 需求来源**

线上问题修复与系统优化。

# **2. 背景及目标**

**背景：**

目前，系统的学情报告以【学生ID + 学科】作为唯一标识。当同一学生ID下存在多个不同年级的相同学科课程时（例如，同一账号下的哥哥报了高一数学，弟弟报了初一数学），会导致学情报告数据被覆盖。

后果：高中辅导老师在后台查看学生学情报告时，实际看到的是该学生初中课程的报告，信息严重错配，影响了教学判断和家校沟通的准确性。

![](https://qx9xydukti.feishu.cn/space/api/box/stream/download/asynccode/?code=NTYyOGQyNTUwMmJmYzYxODg2NjVkNGQ2NWU5OGQ3MjZfR0xySkVuNFJyRlZEUEVLT2pZcUQwRnJJWWxVMWhDV1ZfVG9rZW46VG05Y2JOOERNb1RxMnJ4TUtkcWNJaUZQbnloXzE3NjQ0OTY2ODI6MTc2NDUwMDI4Ml9WNA)

![](https://qx9xydukti.feishu.cn/space/api/box/stream/download/asynccode/?code=NzcxMmEzMzk0ZTUwY2NhODI3NTNkZTIxYWY1ZjYyOTRfRGdMaG80Q3B6aE16dVlTdjlLM2QyeTJldjU5R2prYURfVG9rZW46VXIxYmJoQkVib0V6ekt4WG9XWGNZR0phblNmXzE3NjQ0OTY2ODI6MTc2NDUwMDI4Ml9WNA)

**目标：**

1. **确保数据准确：** 保证每一份学情报告都与对应的学生、学科、年级精确匹配，杜绝数据混淆。
    

# **3. 方案概述**

核心解决方案为为学情报告增加“年级”维度，确保数据记录的唯一性。

暂时无法在飞书文档外展示此内容

# **4. 项目风险**

无

# **5. 功能描述**

**5.1 后端服务**

1. **取数逻辑调整：**
    
    1. 需要在学情报告的取数数据表中，新增 `grade` (年级) 字段。
        
    2. 该字段的数据来源于用户报名课程时所绑定的班级年级信息。
        

5.2 前端

以"学生id"+"学科"+“年级”从后端查

# **6. 数据需求**

无

# **7. 运营计划**

功能上线后，需要筛选出在秋季（秋0、秋1、秋2、秋3、秋4）课程中，存在“同一学生ID报名了多个不同年级的相同科目”情况的用户列表，并对这部分用户的学情报告进行数据重跑或重新生成。

# **8. 附录**

无