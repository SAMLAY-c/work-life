# 环境搭建指南

> 本指南帮助你快速搭建 Obsidian 任务管理系统的基础环境

---

## 📥 第一步：安装 Obsidian

### 1. 下载安装

访问 [obsidian.md](https://obsidian.md/) 下载对应系统的安装包：

- **Windows**: 下载 .exe 安装包
- **macOS**: 下载 .dmg 文件
- **Linux**: 下载 AppImage 或使用包管理器

### 2. 创建仓库

1. 打开 Obsidian
2. 点击 **"创建新仓库"**
3. 选择一个文件夹（建议命名为"我的知识库"或"任务管理系统"）
4. 选择 **"文件"** 模式（推荐新手使用）

---

## 🔌 第二步：安装核心插件

Obsidian 的强大之处在于插件生态。这套任务管理系统需要以下插件：

### 必装插件（4个）

#### 1. Tasks - 任务管理核心

**功能**：
- 创建和管理待办事项
- 支持循环任务、截止日期、优先级
- 丰富的任务查询语法

**安装步骤**：
1. 点击左侧 **设置** 图标（或按 `Cmd/Ctrl + ,`）
2. 选择 **"社区插件"**
3. 关闭 **"安全模式"**（第三方插件需要关闭）
4. 点击 **"浏览"** 按钮
5. 搜索 **"Tasks"**
6. 点击 **"安装"** → **"启用"**

**基础配置**：
```json
// 在设置 → Tasks 中进行以下配置：
- 全局任务过滤器：留空（显示所有任务）
- 自动完成链接：关闭
- 完成日期的日期格式：YYYY-MM-DD
```

---

#### 2. Dataview - 看板与统计

**功能**：
- 将任务数据转化为表格、列表、看板
- 支持数据统计和可视化
- 可以创建动态进度条、日历视图

**安装步骤**：
1. 在社区插件市场搜索 **"Dataview"**
2. 安装并启用

**重要提示**：
- Dataview 有两种模式：**Dataview** 和 **Dataview Query Language (DQL)**
- 本教程使用的是 **DQL 模式**
- 需要在设置中启用 **"Enable JavaScript Queries"** (DataviewJS)

**基础配置**：
```json
// 在设置 → Dataview 中：
- 启用 JavaScript Queries：打开
- 默认查询时间范围：-7d 到 +7d
- 日期显示格式：YYYY-MM-DD
```

---

#### 3. Templater - 模板快速插入

**功能**：
- 快速插入预定义的模板
- 支持动态日期、变量
- 可以创建项目笔记的标准格式

**安装步骤**：
1. 在社区插件市场搜索 **"Templater"**
2. 安装并启用

**基础配置**：
```json
// 在设置 → Templater 中：
- Template folder location: 创建一个文件夹（例如 `template/`）
- Trigger Templater on new file creation: 打开（可选）
```

**创建第一个模板**：
在 `template/` 文件夹下创建 `项目计划模板.md`：

```markdown
---
status: 规划
type: project
created: <% tp.date.now("YYYY-MM-DD") %>
---

# <% tp.file.title %>

## 🎯 项目目标


## 📋 任务组

### 任务组1
- [ ]

### 任务组2
- [ ]

## 📊 项目信息
- 预估任务数：
- 预估耗时：
```

---

#### 4. QuickAdd - 快速任务录入（强烈推荐）

**功能**：
- 不打开笔记就能快速录入任务
- 可以创建宏命令
- 适合记录日常琐事

**安装步骤**：
1. 在社区插件市场搜索 **"QuickAdd"**
2. 安装并启用

**创建"快速任务"宏**：

1. 打开 QuickAdd 设置
2. 点击 **"Create"** → 选择 **"Macro"**
3. 命名为 **"快速任务"**
4. 点击 **"Edit"** 进入编辑模式

**配置宏命令**：
```
// 添加"Capture"动作
- Type: Capture
- Capture to: 选择你的"日常任务清单"笔记
- Task format: "- [ ] {{value}}"
```

**使用方式**：
- 按 `Cmd/Ctrl + P` 打开命令面板
- 输入 **"QuickAdd"**
- 选择 **"快速任务"**
- 输入任务内容（例如"取快递"）
- 回车即可添加到指定笔记

---

## 🎨 第三步：创建基础文件夹结构

在 Obsidian 仓库中创建以下文件夹：

```
Obsidian仓库/
├── 📁 灵感库/
├── 📁 01 个人/
├── 📁 02 家庭/
├── 📁 03 工作/
├── 📁 04 事业/
├── 📁 template/
└── 📁 00-系统/
    ├── 📄 任务看板.md
    ├── 📄 任务回顾.md
    └── 📄 项目索引.md
```

**操作步骤**：
1. 在左侧文件面板点击 **"新建文件夹"**
2. 依次创建上述文件夹
3. `00-系统/` 文件夹后续会放置看板和统计页面

---

## ✅ 第四步：测试插件是否正常工作

### 测试 Tasks 插件

1. 创建一个新笔记，命名为 **"测试笔记"**
2. 输入以下内容（包含 Tasks 语法）：

```markdown
- [ ] 这是一个测试任务 ⏬ 📅 2025-01-01
- [ ] 这是一个高优先级任务 🔴 📅 2025-01-02
- [ ] 这是一个已完成任务 ✅ 2025-01-01
```

3. 按 **`Ctrl/Cmd + L`**（或 **`Cmd/Ctrl + Enter`**）
4. 如果任务被渲染成带有复选框的格式，说明 Tasks 插件工作正常

---

### 测试 Dataview 插件

1. 在 **"测试笔记"** 中添加以下内容：

```markdown
## 任务列表

```dataview
TASK
FROM "测试笔记"
WHERE !completed
GROUP BY status
```

2. 如果看到任务被列出，说明 Dataview 插件工作正常

---

## 🎯 第五步：创建第一个项目笔记

现在，让我们创建一个真实的项目笔记来测试整个系统：

1. 在 **"01 个人"** 文件夹下创建新笔记
2. 命名为 **"2025年减脂计划"**
3. 如果安装了 Templater，使用模板创建；否则手动输入：

```markdown
---
status: 规划
type: project
created: 2025-01-01
---

# 2025年减脂计划

## 🎯 项目目标
在90天内减重5kg，建立健康的生活方式

## 📋 任务组

### 饮食管理
- [ ] 制定第一周的低糖食谱 📅 2025-01-01
- [ ] 购买健康食材 📅 2025-01-02
- [ ] 学习阅读营养成分表 📅 2025-01-03

### 运动计划
- [ ] 制定每周运动计划 📅 2025-01-01
- [ ] 购买运动装备（跑鞋、运动服） 📅 2025-01-05
- [ ] 第一次跑步30分钟 📅 2025-01-07

### 监测与复盘
- [ ] 记录初始体重和体脂率 📅 2025-01-01
- [ ] 设置每周固定称重时间 📅 2025-01-01

## 📊 项目信息
- 预估任务数：6
- 预估耗时：90天
- 当前状态：规划中
```

---

## 🔧 常见问题排查

### 问题1：Tasks 插件无法渲染任务

**症状**：输入 Tasks 语法后，任务没有变成复选框格式

**解决方案**：
1. 检查插件是否已启用（设置 → 社区插件 → 确认 Tasks 开关是打开的）
2. 确认语法正确（必须以 `- [ ]` 开头）
3. 尝试重启 Obsidian

---

### 问题2：Dataview 查询显示为代码块

**症状**：Dataview 查询代码没有被渲染，而是显示为原始代码

**解决方案**：
1. 检查 Dataview 插件是否启用
2. 确认使用的是 **\`\`\`dataview** 而不是 **\`\`\` **dataview
3. 检查代码语法是否有错误

---

### 问题3：QuickAdd 无法添加任务

**症状**：使用 QuickAdd 时没有反应或报错

**解决方案**：
1. 检查"捕获到"的目标文件是否存在
2. 确认宏命令配置正确
3. 查看控制台错误信息（`Ctrl/Cmd + Shift + I`）

---

## 🎉 恭喜！基础环境搭建完成

你现在拥有：
- ✅ 安装并配置好的 Obsidian
- ✅ 四个核心插件（Tasks、Dataview、Templater、QuickAdd）
- ✅ 基础文件夹结构
- ✅ 第一个项目笔记

**下一步** → [02_核心框架设计.md](02_核心框架设计.md)
